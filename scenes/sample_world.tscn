[gd_scene load_steps=14 format=3 uid="uid://cpbgad7xpvgim"]

[ext_resource type="TileSet" uid="uid://brbpok4okhehv" path="res://map_resources/world_tile_set.tres" id="1_3xljd"]
[ext_resource type="Script" path="res://scripts/level_manager.gd" id="1_oc1xv"]
[ext_resource type="Script" path="res://scripts/Phase1Camera.gd" id="2_gj8u6"]
[ext_resource type="Script" path="res://scripts/tile_draw_controller.gd" id="2_x5ed3"]
[ext_resource type="PackedScene" uid="uid://xfns54a7n5eb" path="res://particles/background_particles.tscn" id="3_wj6ux"]
[ext_resource type="PackedScene" uid="uid://dfiwma3suklni" path="res://scenes/avaliable_shapes.tscn" id="4_jnf17"]
[ext_resource type="Script" path="res://scripts/goal.gd" id="4_ylrk4"]
[ext_resource type="PackedScene" uid="uid://bjyivq413uhna" path="res://scenes/avaliable_multipliers.tscn" id="5_86tck"]
[ext_resource type="FontFile" uid="uid://bfjao6y3cc3i" path="res://assets/fonts/MotleyForcesRegular-w1rZ3.ttf" id="7_k4dme"]
[ext_resource type="PackedScene" uid="uid://rvp1j1c6hjh" path="res://particles/arrow_indicator.tscn" id="7_oeccr"]
[ext_resource type="LabelSettings" uid="uid://w4vi2ub2x5dk" path="res://fonts/available_multiplier.tres" id="10_u4fb3"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_rk7v1"]
bg_color = Color(0, 0, 0, 0.658824)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ut35c"]

[node name="SampleWorld" type="Node2D"]
script = ExtResource("1_oc1xv")

[node name="Phase1Camera" type="Camera2D" parent="."]
position = Vector2(0, -262)
zoom = Vector2(0.7, 0.7)
script = ExtResource("2_gj8u6")

[node name="BackgroundParticles" parent="." instance=ExtResource("3_wj6ux")]

[node name="TileParticles" type="Node2D" parent="."]

[node name="TileMap" type="TileMap" parent="." node_paths=PackedStringArray("shapes_control")]
tile_set = ExtResource("1_3xljd")
format = 2
layer_0/name = "base_map"
layer_0/tile_data = PackedInt32Array(65533, 0, 2, 65534, 0, 2, 65535, 0, 2, 0, 0, 2, 1, 0, 2, 2, 0, 2, 65532, 0, 2, 65531, 0, 2, 65530, 0, 2, 65529, 0, 2, 65528, 0, 2, 65527, 0, 2, 65526, 0, 2, 65525, 0, 2, 65524, 0, 2, 65523, 0, 2, 3, 0, 2, 4, 0, 2, 5, 0, 2, 6, 0, 2, 7, 0, 2, 8, 0, 2, 9, 0, 2, 10, 0, 2, 11, 0, 2, 12, 0, 2, -589816, 0, 2, -589815, 0, 2, -589814, 0, 2, -589813, 0, 2, -8, 0, 2, -65544, 0, 2, -65543, 0, 2, -7, 0, 2, -196619, 0, 2, -327688, 0, 2, -327687, 0, 2, -458757, 0, 2, -458756, 0, 2, -458755, 0, 2, -393219, 0, 2, -327683, 0, 2, -524281, 0, 2, -65524, 0, 2, -131060, 0, 2, -196596, 0, 2, -262132, 0, 2, -327668, 0, 2, -393204, 0, 2, -458740, 0, 2, -524276, 0, 2, -589812, 0, 2, -655348, 0, 2, -720884, 0, 2, -786420, 0, 2, -720909, 0, 2, -655373, 0, 2, -589837, 0, 2, -524301, 0, 2, -458765, 0, 2, -393229, 0, 2, -327693, 0, 2, -262157, 0, 2, -196621, 0, 2, -131085, 0, 2, -65549, 0, 2, -13, 0, 2, -720908, 0, 2, -720907, 0, 2, -720906, 0, 2, -720905, 0, 2, -720904, 0, 2, -720903, 0, 2, -720902, 0, 2, -720901, 0, 2, -720900, 0, 2, -720899, 0, 2, -720898, 0, 2, -720897, 0, 2, -786432, 0, 2, -786431, 0, 2, -786430, 0, 2, -786429, 0, 2, -786428, 0, 2, -786427, 0, 2, -786426, 0, 2, -786425, 0, 2, -786424, 0, 2, -786423, 0, 2, -786422, 0, 2, -786421, 0, 2)
layer_1/name = "placed_tiles"
layer_1/tile_data = PackedInt32Array()
layer_2/name = "placement_tiles"
layer_2/modulate = Color(1, 1, 1, 0.466667)
layer_2/tile_data = PackedInt32Array()
script = ExtResource("2_x5ed3")
shapes_control = NodePath("../UI/AvaliableShapes")

[node name="UI" type="CanvasLayer" parent="."]

[node name="Panel" type="Panel" parent="UI"]
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = -95.0
offset_right = 1152.0
grow_vertical = 0
theme_override_styles/panel = SubResource("StyleBoxFlat_rk7v1")

[node name="AvaliableShapes" parent="UI" instance=ExtResource("4_jnf17")]
offset_left = 18.0
offset_top = 554.0
offset_right = -22.0
offset_bottom = 514.0

[node name="AvaliableMultipliers" parent="UI" instance=ExtResource("5_86tck")]
offset_left = 600.0
offset_top = 553.0
offset_right = 560.0
offset_bottom = 513.0

[node name="StartButton" type="Button" parent="UI"]
offset_left = 1064.0
offset_top = 557.0
offset_right = 1243.0
offset_bottom = 740.0
scale = Vector2(0.4, 0.4)
focus_mode = 0
theme_override_fonts/font = ExtResource("7_k4dme")
theme_override_font_sizes/font_size = 128
text = "Go
"

[node name="Goal" type="Area2D" parent="."]
position = Vector2(706, -592)
script = ExtResource("4_ylrk4")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Goal"]
position = Vector2(-1.625, -0.125)
shape = SubResource("RectangleShape2D_ut35c")

[node name="SpawnPoint" type="Marker2D" parent="."]
position = Vector2(-731, -8)

[node name="Indicators" type="Node2D" parent="."]

[node name="SpawnIndicator" parent="Indicators" instance=ExtResource("7_oeccr")]
position = Vector2(-723, -90)

[node name="GoalIndicator" parent="Indicators" instance=ExtResource("7_oeccr")]
position = Vector2(701, -675)

[node name="SpawnLabel" type="Label" parent="Indicators"]
offset_left = -766.0
offset_top = -125.0
offset_right = -130.0
offset_bottom = 79.0
scale = Vector2(0.15, 0.15)
text = "Start"
label_settings = ExtResource("10_u4fb3")

[node name="GoalLabel" type="Label" parent="Indicators"]
offset_left = 659.0
offset_top = -698.0
offset_right = 1295.0
offset_bottom = -494.0
scale = Vector2(0.15, 0.15)
text = "Goal"
label_settings = ExtResource("10_u4fb3")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Retry" type="Button" parent="CanvasLayer"]
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -47.0
offset_right = 344.0
offset_bottom = 183.0
grow_horizontal = 2
scale = Vector2(0.25, 0.25)
focus_mode = 0
theme_override_fonts/font = ExtResource("7_k4dme")
theme_override_font_sizes/font_size = 128
text = "RETRY"

[connection signal="body_entered" from="Goal" to="Goal" method="_on_LevelCompleteTrigger_body_entered"]
